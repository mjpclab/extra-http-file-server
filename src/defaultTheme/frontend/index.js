(function(){var e,t,n,r,i="undefined",o="none",a="header",l="."+o,c=".item-list > li:not(."+a+"):not(.parent)",u=c+l,s=c+":not(.none)",f=typeof window.onpagehide!==i?"pagehide":"beforeunload",d="Enter",v=function(){};e=typeof console!==i?function(e){console.error(e)}:v,document.body.classList?(t=function(e,t){return e&&e.classList.contains(t)},n=function(e,t){e&&e.classList.add(t)},r=function(e,t){e&&e.classList.remove(t)}):(t=function(e,t){if(e)return new RegExp("\\b"+t+"\\b").test(e.className)},n=function(e,t){if(e){var n=e.className;new RegExp("\\b"+t+"\\b").test(n)||(e.className=n+" "+t)}},r=function(e,t){if(e){var n=e.className,r=new RegExp("^\\s*"+t+"\\s+|\\s+"+t+"\\b","g"),i=n.replace(r,"");n!==i&&(e.className=i)}});var y,m=!1;try{typeof sessionStorage!==i&&(m=!0)}catch(p){}(function(){var e;if(document.querySelector){if(e=document.body.querySelector(".filter"))if(e.addEventListener){var t=e.querySelector("input");if(t){var i,a,l=String.prototype.trim?function(e){return e.trim()}:(i=/^\s+|\s+$/g,function(e){return e.replace(i,"")}),v=e.querySelector("button"),y="",p=function(){var e=l(t.value).toLowerCase();if(e!==y){var i,a,f;if(e)for(v&&(v.style.display="block"),i=e.indexOf(y)>=0?s:y.indexOf(e)>=0?u:c,f=(a=document.body.querySelectorAll(i)).length-1;f>=0;f--){var d=a[f],m=d.querySelector(".name");m&&m.textContent.toLowerCase().indexOf(e)<0?n(d,o):r(d,o)}else for(v&&(v.style.display=""),i=u,f=(a=document.body.querySelectorAll(i)).length-1;f>=0;f--)r(a[f],o);y=e}},g=function(){clearTimeout(a),a=setTimeout(p,350)};t.addEventListener("input",g,!1),t.addEventListener("change",g,!1);var h=function(){clearTimeout(a),t.blur(),p()},E=function(){clearTimeout(a),t.value="",p()};if(t.addEventListener("keydown",(function(e){if(e.key)switch(e.key){case d:h(),e.preventDefault();break;case"Escape":case"Esc":E(),e.preventDefault()}else if(e.keyCode)switch(e.keyCode){case 13:h(),e.preventDefault();break;case 27:E(),e.preventDefault()}}),!1),v&&v.addEventListener("click",(function(){clearTimeout(a),t.value="",t.focus(),p()})),m){var b=sessionStorage.getItem(location.pathname);sessionStorage.removeItem(location.pathname),window.addEventListener(f,(function(){t.value&&sessionStorage.setItem(location.pathname,t.value)}),!1),b&&(t.value=b)}t.value&&p()}}else e.className+=" none"}else(e=document.getElementById&&document.getElementById("panel-filter"))&&(e.className+=" none")})(),function(){if(window.onpageshow!==undefined&&document.querySelector){var e=document.body.querySelector(".item-list");e.addEventListener("focusin",t),e.addEventListener("click",t),window.addEventListener("pageshow",(function(){y&&y!==document.activeElement&&(y.focus(),y.scrollIntoView({block:"center"}))}))}function t(e){for(var t=e.target;t&&!(t instanceof HTMLAnchorElement);)t=t.parentElement;t&&t!==y&&(y=t)}}(),function(){if(document.querySelector){var e=document.referrer;if(e){e=v(e);var t=v(location.href);if(!(e.length<=t.length)&&e.substring(0,t.length)===t){var n=e.substring(t.length);if("/"===t[t.length-1]||"/"===n[0]){var r=/[^/]+/.exec(n);if(r){var i=r[0];if(i){i=decodeURIComponent(i);for(var o=document.body.querySelectorAll(c),a=0,l=(o=Array.prototype.slice.call(o)).length;a<l;a++){var u=o[a],s=u.querySelector(".field.name");if(s){var f=s.textContent;if("/"===f[f.length-1]&&(f=f.substring(0,f.length-1)),f===i){var d=u.querySelector("a");d&&(y=d,d.focus(),d.scrollIntoView({block:"center"}));break}}}}}}}}}function v(e){var t=e.indexOf("?");return t<0&&(t=e.indexOf("#")),t>=0&&(e=e.substring(0,t)),e}}(),function(){if(document.querySelector&&document.addEventListener&&document.body.parentElement){var e=document.body.querySelector(".path-list"),n=document.body.querySelector(".item-list");if(e||n){var r,i,l,c,u,s,f="li:not(.none):not(."+a+")",d=["INPUT","BUTTON","TEXTAREA"],v=navigator.platform,y=v.indexOf("Mac")>=0||v.indexOf("iPhone")>=0||v.indexOf("iPad")>=0||v.indexOf("iPod")>=0;h(),y?(u=function(e){return!(e.ctrlKey||e.shiftKey||e.metaKey)},s=function(e){return e.altKey}):(u=function(e){return!(e.altKey||e.shiftKey||e.metaKey)},s=function(e){return e.ctrlKey}),document.addEventListener("keydown",(function(t){var r=function(t){if(!(d.indexOf(t.target.tagName)>=0))if(t.key){if(u(t))switch(t.key){case"Left":case"ArrowLeft":return s(t)?p(e):m(e,!0);case"Right":case"ArrowRight":return s(t)?g(e):m(e,!1);case"Up":case"ArrowUp":return s(t)?p(n):m(n,!0);case"Down":case"ArrowDown":return s(t)?g(n):m(n,!1)}if(!t.ctrlKey&&(!t.altKey||y)&&!t.metaKey&&1===t.key.length)return E(n,t.key,t.shiftKey)}else if(t.keyCode){if(u(t))switch(t.keyCode){case 37:return s(t)?p(e):m(e,!0);case 39:return s(t)?g(e):m(e,!1);case 38:return s(t)?p(n):m(n,!0);case 40:return s(t)?g(n):m(n,!1)}if(!t.ctrlKey&&(!t.altKey||y)&&!t.metaKey&&t.keyCode>=32&&t.keyCode<=126)return E(n,String.fromCharCode(t.keyCode),t.shiftKey)}}(t);r&&(t.preventDefault(),r.focus())}))}}function m(e,n,r){if(e){r||(r=e.querySelector(":focus"));for(var i=r;i&&"LI"!==i.tagName;)i=i.parentElement;if(i||(i=n?e.firstElementChild:e.lastElementChild),i){var l=i;do{n?(l=l.previousElementSibling)||(l=e.lastElementChild):(l=l.nextElementSibling)||(l=e.firstElementChild)}while(l!==i&&(t(l,o)||t(l,a)));if(l)return l.querySelector("a")}}}function p(e){var t=e.querySelector(f);return t&&t.querySelector("a")}function g(e){var t=e.querySelector("li a");return t=m(e,!0,t)}function h(){r=undefined,i="",l=null}function E(e,t,n){var o;return(t=t.toLowerCase())===r?o=e.querySelector(":focus"):(l||(l=e.querySelector(":focus")),o=l,r=r===undefined?t:"",i+=t),clearTimeout(c),c=setTimeout(h,850),function(e,t,n,r){var i,o,a=1===r.length,l=n;do{if(a)a=!1;else if(l){if(i){if(i===l)return;if(o){if(o===l)return}else o=l}else i=l;var c=(l.querySelector(".name")||l).textContent.toLowerCase();if(r.length<=c.length&&c.substring(0,r.length)===r)return l}}while(l=m(e,t,l))}(e,n,o,r||i)}}(),function(){if(document.querySelector&&document.addEventListener){var t=document.body.querySelector(".upload");if(t){var a=t.querySelector("form");if(a){var l=a.querySelector(".file");if(l){var c=document.body.querySelector(".upload-type");if(c){var u,s="file",y="dirfile",p="innerdirfile",g=c.querySelector("."+s),h=c.querySelector("."+y),E=c.querySelector("."+p),b=g,S=Boolean(h),w=String.prototype.padStart?function(e,t,n){return e.padStart(t,n)}:function(e,t,n){var r=e.length;if(r>=t)return e;var i,o=t-r,a=Math.ceil(o/n.length);if(String.prototype.repeat)i=n.repeat(a);else{i="";for(var l=0;l<a;l++)i+=n}return i.length>o&&(i=i.substring(0,o)),i+e};if("https:"!==location.protocol||typeof FileSystemHandle===i||DataTransferItem.prototype.webkitGetAsEntry)u=function(t,n,r,i){var o=[],a=!1;if(!t||!t.length||!t[0].webkitGetAsEntry)return r(o,a);for(var l=[],c=0,u=t.length;c<u;c++){var s=t[c],f=s.webkitGetAsEntry();if(f)if(f.isFile){var d=s.getAsFile();o.push({file:d,relativePath:d.name})}else if(f.isDirectory){if(a=!0,!n)return i();l.push(f)}}(function v(t,n,r){var i=t.length,o=0;if(!i)return r();function a(){++o===i&&r()}function l(e,t,n){e.readEntries((function(r){if(!r.length)return n();v(r,t,(function(){l(e,t,n)}))}),n)}t.forEach((function(t){if(t.isFile){var r=t.fullPath;"/"===r[0]&&(r=r.substring(1)),t.file((function(e){n.push({file:e,relativePath:r}),a()}),(function(t){a(),e(t)}))}else if(t.isDirectory){l(t.createReader(),n,a)}}))})(l,o,(function(){r(o,a)}))};else{var L="directory",k={mode:"read"};u=function(t,n,r,i){function o(t,n,r){return Promise.all(t.map((function(t){var i=t.value;return"file"===i.kind?i.queryPermission(k).then((function(e){if("prompt"===e)return i.requestPermission(k)})).then((function(){return i.getFile()})).then((function(e){var t=r+e.name;n.push({file:e,relativePath:t})}))["catch"]((function(t){e(t)})):i.kind===L?new Promise((function(e){var t=[],a=i.values();function l(){t=null,a=null,e()}(function c(){a.next().then((function(e){e.done?t.length?o(t,n,r+i.name+"/").then(l):l():(t.push(e),c())}))})()})):void 0})))}var a=[],l=!1;if(!t||!t.length)return r(a,l);var c=Array.prototype.slice.call(t);Promise.all(c.map((function(e){return e.getAsFileSystemHandle()}))).then((function(e){if(e=e.filter(Boolean),(l=e.some((function(e){return e.kind===L})))&&!n)return i();o(e.map((function(e){return{value:e,done:!1}})),a,"").then((function(){r(a,l)}))}))}}var q=v,A=v;(function(){var e="hidden",t="active";function a(e,i){if(e!==b)return r(b,t),n(b=e,t),i&&(l.value=""),!0}function u(e){a(g,Boolean(e))&&(l.name=s,l.webkitdirectory=!1)}function v(){a(h,b===g)&&(l.name=y,l.webkitdirectory=!0)}function S(){a(E,b===g)&&(l.name=p,l.webkitdirectory=!0)}function w(e){switch(e.key){case d:case" ":if(e.ctrlKey||e.altKey||e.metaKey||e.shiftKey)break;if(e.preventDefault(),e.stopPropagation(),e.target===b)break;e.target.click()}}if(typeof l.webkitdirectory!==i){if(h&&r(h,e),E&&r(E,e),g&&(g.addEventListener("click",u),g.addEventListener("keydown",w)),h&&(h.addEventListener("click",v),h.addEventListener("keydown",w)),E&&(E.addEventListener("click",S),E.addEventListener("keydown",w)),m){var L="upload-type",k=sessionStorage.getItem(L);sessionStorage.removeItem(L),window.addEventListener(f,(function(){var e=l.name;e!==s&&sessionStorage.setItem(L,e)}),!1),k===y?h&&h.click():k===p&&E&&E.click()}g&&l.addEventListener("change",(function(e){if(b!==g){var t=e.target.files;if(t&&t.length){var n=Array.prototype.slice.call(t).every((function(e){return!e.webkitRelativePath||e.webkitRelativePath.indexOf("/")<0}));n&&u()}}})),q=function(){g&&b!==g&&(g.focus(),u(!0))},A=function(){h?b!==h&&(h.focus(),v()):E&&b!==E&&(E.focus(),S())}}else n(c,o)})();var x=function(){if(typeof FormData!==i){var e=!1,t=[],o="uploading",c="failed",u=document.body.querySelector(".upload-status"),s=u&&u.querySelector(".progress"),f=u&&u.querySelector(".warn .message");return function(i){i&&i.length&&(e?t.push(i):(e=!0,r(u,c),n(u,o),g(i)))}}function d(){s&&(s.style.width="")}function v(){if(t.length)return g(t.shift());e=!1,r(u,o)}function y(e){r(u,o),n(u,c),f&&(f.textContent=" - "+e.type),t.length=0}function m(){var t=this.status;t>=200&&t<=299?!e&&location.reload():y({type:this.statusText||t})}function p(e){if(e.lengthComputable){var t=100*e.loaded/e.total;s.style.width=t+"%"}}function g(e){var t=l.name,n=new FormData;e.forEach((function(e){var r;e.file?(r=e.relativePath,e=e.file):e.webkitRelativePath&&(r=e.webkitRelativePath),r||(r=e.name),n.append(t,e,r)}));var r=new XMLHttpRequest;r.addEventListener("error",d),r.addEventListener("error",y),r.addEventListener("abort",d),r.addEventListener("abort",y),r.addEventListener("load",d),r.addEventListener("load",v),r.addEventListener("load",m),s&&r.upload.addEventListener("progress",p),r.open(a.method,a.action),r.send(n)}}();x?(function(e){a.addEventListener("submit",(function(t){t.stopPropagation(),t.preventDefault();var n=Array.prototype.slice.call(l.files);e(n)})),l.addEventListener("change",(function(){var t=Array.prototype.slice.call(l.files);e(t)}))}(x),function(e){var t,n="text/plain",r="text.txt";Blob&&Blob.prototype.msClose?t=function(e){var t=new Blob([e],{type:n});return t.name=r,t}:File&&(t=function(e){return new File([e],r,{type:n})});var o=["hidden","radio","checkbox","button","reset","submit","image"];function a(t){q();var n,r,i,o,a=(n=new Date,r=String(1e4*n.getFullYear()+100*(n.getMonth()+1)+n.getDate()),i=String(1e4*n.getHours()+100*n.getMinutes()+n.getSeconds()),o=String(n.getMilliseconds()),"-"+(r=w(r,8,"0"))+"-"+(i=w(i,6,"0"))+"-"+w(o,3,"0"));t=t.map((function(e,t){var n=e.name,r=n.lastIndexOf(".");return r<0&&(r=n.length),{file:e,relativePath:n=n.substring(0,r)+a+"-"+t+n.substring(r)}})),e(t)}function l(e){var r,i;if(e.files&&e.files.length?r=Array.prototype.slice.call(e.files):e.items&&e.items.length?(i=Array.prototype.slice.call(e.items),r=i.map((function(e){return e.getAsFile()})).filter(Boolean)):r=[],r.length)a(r);else if(t&&i)for(var o=0,l=0,c=i.length;l<c;l++)e.types[l]===n&&(o++,i[l].getAsString((function(e){var n=t(e);r.push(n),r.length===o&&a(r)})))}document.documentElement.addEventListener("paste",(function(t){var n=t.target.tagName;if(!("INPUT"===n&&o.indexOf(t.target.type)<0)&&"TEXTAREA"!==n){var r=t.clipboardData;if(r){var a=r.items;a&&a.length?u(a,S,(function(t,n){t.length?1!==t.length||"image/png"!==t[0].file.type?(n?A():q(),e(t)):l({files:t=t.map((function(e){return e&&e.file}))}):l(r)}),(function(){typeof showUploadDirFailMessage!==i&&showUploadDirFailMessage()})):l(r)}}}))}(x)):document.documentElement.addEventListener("paste",(function(e){var t=e.clipboardData;t&&t.files&&t.files.length&&(q(),l.files=t.files,a.submit())})),function(e){var t=!1,o="dragging";function c(e){t||(e.stopPropagation(),e.preventDefault(),n(e.currentTarget,o))}document.body.addEventListener("dragstart",(function(){t=!0})),document.body.addEventListener("dragend",(function(){t=!1}));var s=document.documentElement;s.addEventListener("dragenter",c),s.addEventListener("dragover",c),s.addEventListener("dragleave",(function(e){e.target===e.currentTarget&&r(e.currentTarget,o)})),s.addEventListener("drop",(function(t){t.stopPropagation(),t.preventDefault(),r(t.currentTarget,o),l.value="",t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length&&function(e,t,n,r){u(e.items,t,(function(t,r){0===t.length&&e.files&&e.files.length&&(t=Array.prototype.slice.call(e.files)),n(t,r)}),r)}(t.dataTransfer,S&&Boolean(e),(function(t,n){n?(A(),e(t)):(q(),e?e(t):(l.files=t,a.submit()))}),(function(){typeof showUploadDirFailMessage!==i&&showUploadDirFailMessage()}))}))}(x)}}}}}}()})(),function(){if(document.querySelector&&document.addEventListener&&document.body.classList){var e=document.body.querySelector("form.item-list-action");if(e){var t=e.querySelector(".actions");if(t){var n,r,i="selecting",o=document.body.closest?function(e,t){return e.closest(t)}:function(e,t){for(var n=t.toUpperCase(),r=e;r&&r.tagName!==n;)r=r.parentElement;return r};(function(){var n=t.querySelector(".start-select");n&&n.addEventListener("click",(function(t){t.preventDefault(),e.reset(),e.classList.add(i)}));var r=t.querySelector(".cancel-select");r&&r.addEventListener("click",(function(){e.classList.remove(i)}))})(),(n=e.querySelector("input.select-all"))&&n.addEventListener("change",(function(t){var n=t.target.checked,r=e.querySelectorAll(".item-list li:not(.none) label.select input");Array.isArray(r)||(r=Array.prototype.slice.call(r)),r.forEach((function(e){e.checked=n}))})),function(){if("function"==typeof confirmDelete){var e=t.querySelector(".delete");e&&e.addEventListener("click",(function(e){confirmDelete(this.form)||(e.preventDefault(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}))}}(),(r=e.querySelector("button.delete"))&&r.addEventListener("click",(function(t){if(!t.defaultPrevented){t.preventDefault(),t.stopPropagation();var n=t.target.formAction,r=Array.prototype.slice.call(e.querySelectorAll("input:checked[type=checkbox][name=name]")),i=r.map((function(e){return"name="+encodeURIComponent(e.value)})).join("&"),a=new XMLHttpRequest;a.open("POST",n),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.addEventListener("load",(function(){this.status<200||this.status>299||r.forEach((function(e){var t=o(e,"li");t.parentNode.removeChild(t)}))})),a.send(i)}})),function(){function t(){e.classList.remove(i)}var n=e.querySelectorAll("button[formaction]");Array.isArray(n)||(n=Array.prototype.slice.call(n)),n.forEach((function(e){e.addEventListener("click",t)}))}()}}}}();